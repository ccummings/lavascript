// Generated by LavaScript 0.5.6
// DO NOT EDIT

const marked = require('marked')
const os = require('os')
const pkg = require('../package.json')
function compile (contents) {
  const tokens = marked.lexer(contents).filter(t => {
    return t.type === 'code' && !t.hasOwnProperty('lang')
  })
  const newline = (os.platform() === 'win32') ? '\r\n' : '\n'
  const header = `// Generated by LavaScript ${pkg.version}\n// DO NOT EDIT`
  return `${header}\n\n${tokens.map(t => t.text).join(newline)}\n`
}

module.exports = compile
